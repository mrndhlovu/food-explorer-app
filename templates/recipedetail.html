{% extends 'base.html' %} {% block content %}

<div class="ui segment  recipe-card">
    {% for recipe in recipe %}
    <div class="ui card fluid">
        <div class="content">
            <i class="right floated like icon"></i>
            <i class="right floated star icon"></i>
            <div class="header">{{recipe.record.title}}</div>
            <div class="description">
                <p>
                    {{recipe.record.directions}}
                </p>
            </div>
        </div>
        <div class="extra content">
            <span class="left floated like">
              <i class="like icon"></i>
              Like
            </span>
            <span class="right floated star">
              <i class="star icon"></i>
              Favorite
            </span>
        </div>

        <!--Check if user in session owns the recipe to show edit and delete buttons-->
        {% if recipe.uploaded_by == session.username %}
        <div class="ui small basic icon buttons">
             <button class="ui button" ><i class="add icon"></i><a href="{{ url_for('add_recipe')}}" >Add Recipe</a></button>
            <button class="ui button"><i class="edit icon"></i> <a href="{{ url_for('edit_recipe', _id=recipe._id)}}" class="item" >Edit</a></button>
            <button class="ui button"><i class="delete icon"></i> <a href="{{ url_for('delete_recipe', _id=recipe._id)}}"  methods="GET" class="item" >Delete</a></button>
            
        </div>
       
        {% else %} {% endif %}

    </div>
    {% endfor %}
</div>
{% endblock %}
