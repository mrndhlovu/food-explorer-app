{% extends 'base.html' %} {% block content %}
<form class="ui form" action="{{ url_for('update_recipe', _id=recipes._id) }}" method="POST" class="col s12">
    <div class="ui segment">
        <div class="ui top attached label red">Edit Recipe</div>


        <div class="ui segment">
            <div class="ui top attached label">Title</div>
            <div class="form-group">
                <input value='{{recipes.record.title}}' id="title" name="title">
            </div>
        </div>
        <div class="ui segment">
            <div class="ui top attached label">Category</div>
            <div class="form-group">
                <select id="category" name="category" class="ui search dropdown fluid">
                  <option value="" disabled selected>Choose Category</option>
                  {% for cat in categories %}
                      {% if cat.category_name == recipes.record.category %}
                      <option value="{{recipes.record.category}}" selected="{{cat.category_name}}" >{{recipes.record.category}}</option>
                      {% else %}
                       <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                    {% endif %}
                  {% endfor %}
                </select>
            </div>
        </div>
        <div class="ui segment">
            <div class="ui top attached label">Country</div>
            <div class="form-group">
                <input id="country" name="country" value='{{recipes.record.country}}' placeholder="Country">
            </div>
        </div>
        <div class="ui segment">
            <div class="ui top attached label">Allergens</div>
            <div class="form-group" id="addAllergen">
                <button id="addAllergenButton" class="addAllergen circular ui icon button mini red right floated padded" type="button">
                      <i class="icon plus"></i>
                    </button> {% for allergens in recipes.record.allergens %}
                <div class="ui input focus padded " id="inputContainer{{ loop.index0 }}">
                    <input id="allergens" name="allergens" value='{{allergens}}'>
                    <i class='icon delete label' onclick='removeAllergen({{ loop.index0 }})'></i>
                </div> {% endfor %}
            </div>
        </div>
        <div class="ui segment">
            <div class="ui top attached label">Ingredients</div>
            <div class="form-group" id="addIngredient">
                <button id="addIngredientButton" class="circular ui icon button mini red right floated padded"  type="button">
                      <i class="icon plus"></i>
                    </button> {% for ingredients in recipes.record.ingredients %}
                <div class="ui input focus" id="ingredientsContainer{{ loop.index0 }}">
                    <input id="ingredients{{ loop.index0 }}" name="ingredient" value='{{ingredients}}'><i class='icon delete label' ></i></div> {% endfor %}
            </div>
        </div>
        <div class="ui segment">
            <div class="ui top attached label">Directions</div>
            <div class="form-group">
                <div class="ui form">
                    <div class="field" name="directions">
                        <textarea name="directions" >{{recipes.record.directions}}</textarea>
                    </div>
                </div>
            </div>
        </div>
        <button class="ui bottom attached label red" type="submit">Done</button>
    </div>
</form>


{% endblock %}
